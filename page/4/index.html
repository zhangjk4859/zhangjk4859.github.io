<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>加酷知识源</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="加酷知识源">
<meta property="og:url" content="http://www.pluscool.cn/page/4/index.html">
<meta property="og:site_name" content="加酷知识源">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="张俊凯">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="加酷知识源" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">加酷知识源</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.pluscool.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-flutter/flutter-action-sheet" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/26/flutter/flutter-action-sheet/" class="article-date">
  <time datetime="2020-11-26T10:51:55.000Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/flutter/">flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/26/flutter/flutter-action-sheet/">flutter actionSheet使用方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数</span></span><br><span class="line">_showCupertinoActionSheet() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showCupertinoModalPopup(</span><br><span class="line">        context: context,</span><br><span class="line">        builder: (context) &#123;</span><br><span class="line">          <span class="keyword">return</span> CupertinoActionSheet(</span><br><span class="line"></span><br><span class="line">            title: Text(<span class="string">&#x27;标题&#x27;</span>),</span><br><span class="line">            message: Text(<span class="string">&#x27;内容&#x27;</span>),</span><br><span class="line">            actions: &lt;Widget&gt;[</span><br><span class="line">              CupertinoActionSheetAction(</span><br><span class="line">                child: Text(</span><br><span class="line">                    <span class="string">&#x27;标题一&#x27;</span>,</span><br><span class="line">                  style: TextStyle(</span><br><span class="line">                    color: Color(<span class="number">0xFF00C599</span>)</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                onPressed: () &#123;</span><br><span class="line">                  Navigator.of(context).pop(<span class="string">&#x27;delete&#x27;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                isDefaultAction: <span class="keyword">true</span>,</span><br><span class="line">              ),</span><br><span class="line">              </span><br><span class="line">              CupertinoActionSheetAction(</span><br><span class="line">                child: Text(<span class="string">&#x27;标题二&#x27;</span>),</span><br><span class="line">                onPressed: () &#123;</span><br><span class="line">                  Navigator.of(context).pop(<span class="string">&#x27;not delete&#x27;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                isDestructiveAction: <span class="keyword">true</span>,</span><br><span class="line">              ),</span><br><span class="line">            ],</span><br><span class="line">            cancelButton: CupertinoActionSheetAction(</span><br><span class="line">              child: Text(</span><br><span class="line">                  <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">                style: TextStyle(</span><br><span class="line">                  color: Colors.white</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop(<span class="string">&#x27;cancel&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          );</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;<span class="subst">$result</span>&#x27;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>总结：在showCupertinoModalPopup方法里返回CupertinoActionSheet，里面的元素由CupertinoActionSheetAction组成，有default和destructive类型可选，用法和UI和苹果大致一样</p>
<p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2828331492,1718232482&fm=15&gp=0.jpg" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/26/flutter/flutter-action-sheet/" data-id="ckju62sq1000ohf49cphcg6z2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-unix工具/cannot-open-app-on-mac" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/25/unix%E5%B7%A5%E5%85%B7/cannot-open-app-on-mac/" class="article-date">
  <time datetime="2020-11-25T15:55:41.000Z" itemprop="datePublished">2020-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/unix/">unix</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/25/unix%E5%B7%A5%E5%85%B7/cannot-open-app-on-mac/">无法打开&#34;xxx&#34;,因为无法确认开发者的身份</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>处理方法</p>
<ul>
<li>加权限,同意任何来源</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br><span class="line">&#x2F;&#x2F;用完还原</span><br><span class="line">sudo spctl --master-enable</span><br></pre></td></tr></table></figure>

<ul>
<li><p>按住command键，鼠标右键菜单选择打开app，出现窗口会出现打开按钮，正常情况下不会出现</p>
<p><img src="https://huajiakeji.com/Content/kindeditor/attached/image/20190725/20190725213552_3966.png" alt="image"></p>
<p>参考：<a target="_blank" rel="noopener" href="https://huajiakeji.com/macos/2019-07/2793.html">https://huajiakeji.com/macos/2019-07/2793.html</a></p>
</li>
</ul>
<p>完。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/25/unix%E5%B7%A5%E5%85%B7/cannot-open-app-on-mac/" data-id="ckju62std006uhf4911o0ac5t" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flutter/fijkplayer-off" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/25/flutter/fijkplayer-off/" class="article-date">
  <time datetime="2020-11-25T15:49:43.000Z" itemprop="datePublished">2020-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/flutter/">flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/25/flutter/fijkplayer-off/">fijkplayer播放期间屏幕熄灭处理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>两种方案</p>
<p>1.借用第三方插件，让当前页面保持常量，别的页面跟随系统</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wakelock: ^0.1.4+2</span><br><span class="line"></span><br><span class="line">Wakelock.enable();</span><br><span class="line">Wakelock.disable();</span><br></pre></td></tr></table></figure>

<p>2.调用fijkplayer自身的常量参数 二选一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">await player.setOption(FijkOption.hostCategory, &quot;request-screen-on&quot;, 1);</span><br><span class="line">FijkPlugin.keepScreenOn ;</span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8750de450850">https://www.jianshu.com/p/8750de450850</a></p>
<p><a target="_blank" rel="noopener" href="https://fijkplayer.befovy.com/docs/zh/host-option.html#gsc.tab=0">https://fijkplayer.befovy.com/docs/zh/host-option.html#gsc.tab=0</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/25/flutter/fijkplayer-off/" data-id="ckju62spx000khf49bewy5nv0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flutter/pubspec-error" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/25/flutter/pubspec-error/" class="article-date">
  <time datetime="2020-11-25T01:27:09.000Z" itemprop="datePublished">2020-11-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/flutter/">flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/25/flutter/pubspec-error/">pubspec.lock坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天以为pubspec.lock文件和cocoapods的profile.lock文件性质一样，可以生成，所以删除，结果遇见了编译报错，即使在执行了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter pub get</span><br></pre></td></tr></table></figure>

<p>命令重新生成后，经过一番研究和队友协助，找到是这个问题，把老的恢复回来工程编译正常，下面是报错的关键字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Execution failed for task &#39;:app:processDebugManifest&#39;. &gt; Manifest merger failed : Attribute provider...</span><br></pre></td></tr></table></figure>

<p>做记录方便以后查阅。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/25/flutter/pubspec-error/" data-id="ckju62sr10028hf49h9fv8exs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flutter/splash-page" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/24/flutter/splash-page/" class="article-date">
  <time datetime="2020-11-24T06:09:04.000Z" itemprop="datePublished">2020-11-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/24/flutter/splash-page/">flutter启动页</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在main.dart文件的materialAPP.home属性返回一个UI，这个UI就是启动页，启动页的scanffold的body，返回一张图片</p>
<ul>
<li>in main.dart</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">return MaterialApp(</span><br><span class="line">          home: SplashPage(),</span><br><span class="line">        );</span><br></pre></td></tr></table></figure>

<ul>
<li><p>in SplashPage</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return Scaffold(</span><br><span class="line">      body: Container(</span><br><span class="line">        child: Image.asset(</span><br><span class="line">          &#39;assets&#x2F;images&#x2F;launch_image.png&#39;,</span><br><span class="line">          fit: BoxFit.fill,</span><br><span class="line">          width: double.infinity,</span><br><span class="line">          height: double.infinity,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/24/flutter/splash-page/" data-id="ckju62sr00026hf499oe26epq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flutter/flutter-tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/24/flutter/flutter-tips/" class="article-date">
  <time datetime="2020-11-24T03:50:49.000Z" itemprop="datePublished">2020-11-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/flutter/">flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/24/flutter/flutter-tips/">flutter工程注意事项</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>在工程文件夹内，git管理，忽略pubspec.lock文件 ，运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter pub get</span><br></pre></td></tr></table></figure>
</li>
<li><p>/ios文件夹里，忽略Pods文件夹，Podfile.lock文件，*.xcworkspace文件,运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure>

</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/24/flutter/flutter-tips/" data-id="ckju62sqt001rhf494v8x0wb2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-unix工具/ssh-issue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/24/unix%E5%B7%A5%E5%85%B7/ssh-issue/" class="article-date">
  <time datetime="2020-11-24T03:47:58.000Z" itemprop="datePublished">2020-11-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/unix/">unix</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/24/unix%E5%B7%A5%E5%85%B7/ssh-issue/">enter passphrase for key询问解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa</span><br></pre></td></tr></table></figure>

<ul>
<li>ssh添加id_rsa文件即可</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/24/unix%E5%B7%A5%E5%85%B7/ssh-issue/" data-id="ckju62stf0072hf49e4f6ecsy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-unix工具/zsh-problem" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/23/unix%E5%B7%A5%E5%85%B7/zsh-problem/" class="article-date">
  <time datetime="2020-11-23T10:36:03.000Z" itemprop="datePublished">2020-11-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/unix/">unix</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/23/unix%E5%B7%A5%E5%85%B7/zsh-problem/">zsh的挽救</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天配置环境变量的时候，因为失误不小心让zsh整个失效了，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zsh: command not found:xxx</span><br></pre></td></tr></table></figure>

<p>补救办法，在命令行输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH&#x3D;&#x2F;bin:&#x2F;usr&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:$&#123;PATH&#125;</span><br></pre></td></tr></table></figure>

<p>恢复正常</p>
<p>失误的地方在于配置flutter时路径少输入一个$符号，在$HOME/.zshrc文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;正确</span><br><span class="line">export PATH&#x3D;&quot;$PATH:[PATH_TO_FLUTTER_GIT_DIRECTORY]&#x2F;flutter&#x2F;bin&quot;</span><br><span class="line">&#x2F;&#x2F;错误</span><br><span class="line">export PATH&#x3D;&quot;PATH:[PATH_TO_FLUTTER_GIT_DIRECTORY]&#x2F;flutter&#x2F;bin&quot;</span><br><span class="line">&#x2F;&#x2F;注意 PATH_TO_FLUTTER_GIT_DIRECTORY 是需要输入全路径的，&#x2F;User&#x2F;xxx&#x2F;xxx,不是~符号！</span><br></pre></td></tr></table></figure>

<p>最后一个坑，android studio无法加载应用市场插件，乖乖下载安装包从零开始安装便不会出现问题，不能从别的电脑直接拖过来直接用.</p>
<h3 id="完"><a href="#完" class="headerlink" title="完"></a>完</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/23/unix%E5%B7%A5%E5%85%B7/zsh-problem/" data-id="ckju62stg0074hf4905kkctaz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-算法/lru-cache" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/20/%E7%AE%97%E6%B3%95/lru-cache/" class="article-date">
  <time datetime="2020-11-20T15:39:09.000Z" itemprop="datePublished">2020-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/20/%E7%AE%97%E6%B3%95/lru-cache/">LRU cache implementation</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>LRU cache stand for Least Recently Used Cache,which evict least   recently used entry.As Cache purpose is to provide fast and efficient way of retrieving data, it need to meet certain requirement.</p>
<p>Some of the Requirement are</p>
<ul>
<li>fixed size:cache need to have some bounds to limit memory usages.</li>
<li>Fast Access:Cache Inert and lookup operation should be fast, preferably O(1) time</li>
<li>Replacement of Entry in case,Memory Limit is reached:A cache shoule have efficient algorithm to evict when memory is full.</li>
</ul>
<p>In case of LRU cache we evict least recently used entry so we have to keep track of recently used entries, entries which have not been used from long time and which have been used recently, plus lookup and insertion operation should be fast enough .</p>
<p>When we think about O(1) lookup, obvious data structure comes in our mind is HashMap.HashMap provide O(1) insertion and lookup,but HashMap does not has mechanism of tracking which entry has been queried recently and which not.</p>
<p>To track this we require another data-structure which provide fast insertion ,deletion and updation,in case of LRU we use Doubly Linkedlist.Reason for choosing doubly LinkList is O(1) deletion,updation and insertion  if we have the address of Node on which this operation has to perform</p>
<p>So our Implementation of LRU cache will have HashMap and Doubly LinkedList.In which HashMap will hold the keys and address of the Nodes of Doubly LinkedList.And Doubly LinkedList will hold the values of keys.</p>
<p>As we need to keep track of Recently used entries,we will use a clever approach.We will remove element from bottom and add element on start of LinkedList and whenever any entries is accessed,it will be moved to top.so that recently used entries will be on Top and Least used will be on Bottom.</p>
<p><img src="https://miro.medium.com/max/1300/0*fOwBd3z0XtHh7WN1.png" alt="image"></p>
<p>Let implementation the LRU Cache</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">package com.learning;</span><br><span class="line"></span><br><span class="line">&#x2F;* package whatever; &#x2F;&#x2F; don&#39;t place package name! *&#x2F;</span><br><span class="line"></span><br><span class="line">import java.util.HashMap;</span><br><span class="line">class Entry &#123;</span><br><span class="line">	int value;</span><br><span class="line">	int key;</span><br><span class="line">	Entry left;</span><br><span class="line">	Entry right;</span><br><span class="line">&#125;</span><br><span class="line">public class LRUCache &#123;</span><br><span class="line"></span><br><span class="line">	HashMap&lt;Integer, Entry&gt; hashmap;</span><br><span class="line">	Entry start, end;</span><br><span class="line">	int LRU_SIZE &#x3D; 4; &#x2F;&#x2F; Here i am setting 4 to test the LRU cache</span><br><span class="line">						&#x2F;&#x2F; implementation, it can make be dynamic</span><br><span class="line">	public LRUCache() &#123;</span><br><span class="line">		hashmap &#x3D; new HashMap&lt;Integer, Entry&gt;();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getEntry(int key) &#123;</span><br><span class="line">		if (hashmap.containsKey(key)) &#x2F;&#x2F; Key Already Exist, just update the</span><br><span class="line">		&#123;</span><br><span class="line">			Entry entry &#x3D; hashmap.get(key);</span><br><span class="line">			removeNode(entry);</span><br><span class="line">			addAtTop(entry);</span><br><span class="line">			return entry.value;</span><br><span class="line">		&#125;</span><br><span class="line">		return -1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void putEntry(int key, int value) &#123;</span><br><span class="line">		if (hashmap.containsKey(key)) &#x2F;&#x2F; Key Already Exist, just update the value and move it to top</span><br><span class="line">		&#123;</span><br><span class="line">			Entry entry &#x3D; hashmap.get(key);</span><br><span class="line">			entry.value &#x3D; value;</span><br><span class="line">			removeNode(entry);</span><br><span class="line">			addAtTop(entry);</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			Entry newnode &#x3D; new Entry();</span><br><span class="line">			newnode.left &#x3D; null;</span><br><span class="line">			newnode.right &#x3D; null;</span><br><span class="line">			newnode.value &#x3D; value;</span><br><span class="line">			newnode.key &#x3D; key;</span><br><span class="line">			if (hashmap.size() &gt; LRU_SIZE) &#x2F;&#x2F; We have reached maxium size so need to make room for new element.</span><br><span class="line">			&#123;</span><br><span class="line">				hashmap.remove(end.key);</span><br><span class="line">				removeNode(end);				</span><br><span class="line">				addAtTop(newnode);</span><br><span class="line"></span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				addAtTop(newnode);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			hashmap.put(key, newnode);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public void addAtTop(Entry node) &#123;</span><br><span class="line">		node.right &#x3D; start;</span><br><span class="line">		node.left &#x3D; null;</span><br><span class="line">		if (start !&#x3D; null)</span><br><span class="line">			start.left &#x3D; node;</span><br><span class="line">		start &#x3D; node;</span><br><span class="line">		if (end &#x3D;&#x3D; null)</span><br><span class="line">			end &#x3D; start;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void removeNode(Entry node) &#123;</span><br><span class="line"></span><br><span class="line">		if (node.left !&#x3D; null) &#123;</span><br><span class="line">			node.left.right &#x3D; node.right;</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			start &#x3D; node.right;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if (node.right !&#x3D; null) &#123;</span><br><span class="line">			node.right.left &#x3D; node.left;</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			end &#x3D; node.left;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(String[] args) throws java.lang.Exception &#123;</span><br><span class="line">		&#x2F;&#x2F; your code goes here</span><br><span class="line">		LRUCache lrucache &#x3D; new LRUCache();</span><br><span class="line">		lrucache.putEntry(1, 1);</span><br><span class="line">		lrucache.putEntry(10, 15);</span><br><span class="line">		lrucache.putEntry(15, 10);</span><br><span class="line">		lrucache.putEntry(10, 16);</span><br><span class="line">		lrucache.putEntry(12, 15);</span><br><span class="line">		lrucache.putEntry(18, 10);</span><br><span class="line">		lrucache.putEntry(13, 16);</span><br><span class="line"></span><br><span class="line">		System.out.println(lrucache.getEntry(1));</span><br><span class="line">		System.out.println(lrucache.getEntry(10));</span><br><span class="line">		System.out.println(lrucache.getEntry(15));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>I hope code and tutorial is self explanatory.</p>
<p>来源：<a target="_blank" rel="noopener" href="https://medium.com/@krishankantsinghal/my-first-blog-on-medium-583159139237">https://medium.com/@krishankantsinghal/my-first-blog-on-medium-583159139237</a></p>
<p>总结：最近最少使用算法，内存有限制，查找得快，删除得快，插入也得快</p>
<ul>
<li><p>获取缓存</p>
<blockquote>
<p> 根据key从字典查找，如果存在，返回值，双向链表删除当前值，插入到最顶端</p>
</blockquote>
</li>
<li><p>插入缓存</p>
<blockquote>
<ol>
<li>如果已经存在，更新值，并移动到链表顶端</li>
<li>不存在，生成一个新的节点，插入到顶端，如果满了，删除最后一个</li>
</ol>
</blockquote>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/20/%E7%AE%97%E6%B3%95/lru-cache/" data-id="ckju62stb006qhf499zpt20c3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-flutter/listview-headerview" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/20/flutter/listview-headerview/" class="article-date">
  <time datetime="2020-11-20T15:24:35.000Z" itemprop="datePublished">2020-11-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/flutter/">flutter</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/20/flutter/listview-headerview/">flutter中list view加一个header view</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">body:   CustomScrollView(</span><br><span class="line">        slivers: &lt;Widget&gt;[</span><br><span class="line"></span><br><span class="line">          SliverGrid.count(</span><br><span class="line">           &#x2F;&#x2F;具体的配置</span><br><span class="line">          ),</span><br><span class="line">          </span><br><span class="line">          </span><br><span class="line">          &#x2F;&#x2F;列表</span><br><span class="line">          SliverFixedExtentList(</span><br><span class="line">            delegate: SliverChildBuilderDelegate(</span><br><span class="line">                  (context, index) &#x3D;&gt; ConversationListItem(</span><br><span class="line">                      delegate: this, conversation: conList[index]</span><br><span class="line">                  ),</span><br><span class="line">              childCount: conList.length,</span><br><span class="line">            ),</span><br><span class="line">            itemExtent: 100,</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>

<p>解析：大的容器叫做custom scroll view,子控件叫做slivers，是一个数组，在数组里面从上到下排布sliver控件，有sliver grid，有sliver fixed extent list</p>
<ul>
<li>效果大概长这样<img src="https://img-blog.csdnimg.cn/20191101164249461.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvcnNoaXBfS2lsbA==,size_16,color_FFFFFF,t_70" alt="image"></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.pluscool.cn/2020/11/20/flutter/listview-headerview/" data-id="ckju62sqy0021hf498rusat3m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/unix/">unix</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/">计算机</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/31/flutter/flutter-app-optimize/">flutter App optimization</a>
          </li>
        
          <li>
            <a href="/2021/03/24/English/new-words/">new words</a>
          </li>
        
          <li>
            <a href="/2021/03/02/flutter/flutter-static-variable/">flutter无法访问另一个类的全局变量</a>
          </li>
        
          <li>
            <a href="/2021/02/23/flutter/flutter-pod-nil-class/">flutter NoMethodError - undefined method `size&#39; for nil:NilClass错误排查</a>
          </li>
        
          <li>
            <a href="/2021/02/22/iOS/framework-bot-found/">framework not found</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 张俊凯<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>