<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"pluscool.cn","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="QR code，Quick Response，一种矩阵条形码，二维条形码，在1994年由供职于日本电装公司Denso Wave(丰田子公司)一名职员腾弘原（Masahiro Hara）发明，灵感来源于围棋，用于追踪流水线上的汽车，二维码之所以能快速在汽车制造领域外流行是因为自身的快速读取性，高存储性，更低的容错率，不需要特殊的设备读取。    二维码里可包含地理信息，身份标识，网页地址，是对这些信">
<meta property="og:type" content="article">
<meta property="og:title" content="二维码怎么生成">
<meta property="og:url" content="https://pluscool.cn/2021/08/26/cs/qr-code-creation/index.html">
<meta property="og:site_name" content="加酷知识源">
<meta property="og:description" content="QR code，Quick Response，一种矩阵条形码，二维条形码，在1994年由供职于日本电装公司Denso Wave(丰田子公司)一名职员腾弘原（Masahiro Hara）发明，灵感来源于围棋，用于追踪流水线上的汽车，二维码之所以能快速在汽车制造领域外流行是因为自身的快速读取性，高存储性，更低的容错率，不需要特殊的设备读取。    二维码里可包含地理信息，身份标识，网页地址，是对这些信">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://5b0988e595225.cdn.sohucs.com/images/20180202/5388bfb902134e5d9fca2dbf2ea739dc.jpeg">
<meta property="og:image" content="https://i.guim.co.uk/img/media/69452cfee35f2027d9b375e79cea482f59b540d5/0_376_2667_3333/master/2667.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=e4076f0ee84d4bf1231d97d027ebcb81">
<meta property="og:image" content="https://qvc.scene7.com/is/image/QVC/t/14/t135114.001?$aempdlarge$">
<meta property="og:image" content="https://cdn4.explainthatstuff.com/qr-code-barcode-features.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/function-patterns2.png">
<meta property="og:image" content="https://s3-us-west-2.amazonaws.com/courses-images-archive-read-only/wp-content/uploads/sites/924/2015/11/25201522/CNX_Precalc_revised_eq_12.png">
<meta property="og:image" content="https://slideplayer.com/slide/9698581/31/images/12/Galois+Field+Example+Example%3A+Multiplying+110+and+101.jpg">
<meta property="og:image" content="https://i.pcmag.com/imagery/encyclopedia-terms/xor-xor.fit_lim.size_1050x.gif">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/finder.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/finder_example_1.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/finder_example_18.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/separators.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/separators2.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/alignment-pattern.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/alignment-exclusion.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/alignment-correct.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/alignment-example.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/timing-s.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/timing-m.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/timing-l.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/format-reserved1.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/format-reserved2.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/version-area1.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/version-area2.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/data-bit-progression.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/upward.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/downward.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/alignment-modules10.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/timing-modules4.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/horizontal-total.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/vertical-total.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/qr-masks.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/format-layout.png?a=">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/format-position-1.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/format-position-2.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/version-location-1.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/version-location-2.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/version-example.png">
<meta property="og:image" content="https://www.thonky.com/qr-code-tutorial/hello-world-final.png">
<meta property="og:image" content="https://www.pgyer.com/app/qrcode/lMxO">
<meta property="og:image" content="data:image/png;base64,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">
<meta property="og:image" content="http://wiki.robotz.com/images/3/37/Asciifull.gif">
<meta property="og:image" content="https://lessonsforenglish.com/wp-content/uploads/2020/05/Common-Number-Prefixes-Greek-Latin-Meaning-and-Examples.png">
<meta property="article:published_time" content="2021-08-26T09:23:00.000Z">
<meta property="article:modified_time" content="2021-09-07T07:37:21.191Z">
<meta property="article:author" content="张俊凯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://5b0988e595225.cdn.sohucs.com/images/20180202/5388bfb902134e5d9fca2dbf2ea739dc.jpeg">

<link rel="canonical" href="https://pluscool.cn/2021/08/26/cs/qr-code-creation/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>二维码怎么生成 | 加酷知识源</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="加酷知识源" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">加酷知识源</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://pluscool.cn/2021/08/26/cs/qr-code-creation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="张俊凯">
      <meta itemprop="description" content="https://github.com/zhangjk4859/">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="加酷知识源">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          二维码怎么生成
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-26 17:23:00" itemprop="dateCreated datePublished" datetime="2021-08-26T17:23:00+08:00">2021-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-07 15:37:21" itemprop="dateModified" datetime="2021-09-07T15:37:21+08:00">2021-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">计算机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>QR code，Quick Response，一种矩阵条形码，二维条形码，在1994年由供职于日本电装公司Denso Wave(丰田子公司)一名职员腾弘原（Masahiro Hara）发明，灵感来源于围棋，用于追踪流水线上的汽车，二维码之所以能快速在汽车制造领域外流行是因为自身的快速读取性，高存储性，更低的容错率，不需要特殊的设备读取。</p>
<p><img src="https://5b0988e595225.cdn.sohucs.com/images/20180202/5388bfb902134e5d9fca2dbf2ea739dc.jpeg" alt="image"></p>
<p><img src="https://i.guim.co.uk/img/media/69452cfee35f2027d9b375e79cea482f59b540d5/0_376_2667_3333/master/2667.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=e4076f0ee84d4bf1231d97d027ebcb81" alt="image"></p>
<p><img src="https://qvc.scene7.com/is/image/QVC/t/14/t135114.001?$aempdlarge$" alt="image"></p>
<p>二维码里可包含地理信息，身份标识，网页地址，是对这些信息进行了编码</p>
<p>可编码的原始信息可分为四种：</p>
<table>
<thead>
<tr>
<th>编码模式</th>
<th>内容</th>
</tr>
</thead>
<tbody><tr>
<td>Numeric</td>
<td>1234567890</td>
</tr>
<tr>
<td>Alphanumeric</td>
<td>ABCDE…..Z   1234567890</td>
</tr>
<tr>
<td>Byte</td>
<td>0000111100001111</td>
</tr>
<tr>
<td>Kanji</td>
<td>漢字の部首・画数・読み方・筆順・意味などを調べることができる漢字辞典サイトで</td>
</tr>
</tbody></table>
<p>每一种模式使用不同的方法把text转换为比特，尽可能使用效率高的方法，编码后的结果是一串比特，8bit为一个单位，称为data codeword。</p>
<h3 id="二维码拆分"><a href="#二维码拆分" class="headerlink" title="二维码拆分"></a>二维码拆分</h3><p><img src="https://cdn4.explainthatstuff.com/qr-code-barcode-features.png" alt="image"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/function-patterns2.png" alt="image"></p>
<p>1 .<strong>Quiet zone</strong>: 二维码存放的区域，白色底板，用来和其他的图案隔离开来，比如被玷污的信封上，报纸上或者有过摩擦的纸箱表面</p>
<p>2.<strong>Finder patterns</strong>：左上，右上，左下的三个黑白正方形，用来确认是否为二维码，以及二维码的旋转方向</p>
<p>3.<strong>Alignment pattern</strong>: 在非正常情况下用来确保可以正常解码，比如印在凸面上，扫描角度不正等</p>
<p>4.<strong>Timing pattern</strong>:紫色连线部分，小黑白方块组成，用来辅助确认二维码里具体的信息（data cell），尤其是二维码污损的情况下</p>
<p>5.<strong>Version infomation</strong>:绿色部分，用来确认版本信息</p>
<p>6.<strong>Data Cells</strong>:剩余的黑白点部分，全为具体数据</p>
<h3 id="容错率"><a href="#容错率" class="headerlink" title="容错率"></a>容错率</h3><table>
<thead>
<tr>
<th align="center">Error Correction Level</th>
<th>Error Correction Capability</th>
</tr>
</thead>
<tbody><tr>
<td align="center">L  (low)</td>
<td>Recovers 7% of data</td>
</tr>
<tr>
<td align="center">M (medium)</td>
<td>Recovers 15% of data</td>
</tr>
<tr>
<td align="center">Q (quarter)</td>
<td>Recovers 25% of data</td>
</tr>
<tr>
<td align="center">H (high)</td>
<td>Recovers 30% of data</td>
</tr>
</tbody></table>
<p>容错率的特点是在原始数据后面加上Reed-Solomon Code。打个比方，一段原始数据里包括100个codeword，需要修复50个，那么需要在数据尾部挂上100个Reed-Solomon code（两倍），这样下来总数为200codeword，容错率为25%，容错等级为Q。也可以认为刚才的例子容错率为50%，鉴于在通常情况下数据部分会污损，所以还是按25%来。容错率越高，数据越大</p>
<p>PS：<a target="_blank" rel="noopener" href="https://www.qrcode.com/en/about/error_correction.html/">Reed-Solomon Code</a> 是一种在制作音乐CD领域较为常用的数学方法，一开始发明用来卫星或者星际通讯降噪，可以在比特级纠错</p>
<h2 id="确定数据使用的最小版本"><a href="#确定数据使用的最小版本" class="headerlink" title="确定数据使用的最小版本"></a>确定数据使用的最小版本</h2><p>最小的二维码为21 * 21像素，最大是177 * 177像素，不同的尺寸代表不同版本，21 * 21为version 1，25 * 25为version 2，4个像素为一个步进，以此类推，177 * 177为version 40。</p>
<p>每一个版本都有数据容量上限，数据容量取决于编码的信息长度和纠错级别，<a target="_blank" rel="noopener" href="https://www.thonky.com/qr-code-tutorial/character-capacities">字符容量表</a>展示了每个版本不同纠错级别的容量</p>
<p>打个比方，<strong>HELLO WORLD</strong>包含11个字符，使用Q级别纠错，版本1 <strong>Alphanumeric</strong>最大容量是16字符，那么版本一就是<strong>HELLO WORLD</strong>最低版本，依次类推</p>
<p>下表是二维码数据容量的上限</p>
<table>
<thead>
<tr>
<th align="left">Encoding Mode</th>
<th align="left">Maximum number of characters a 40-L code can contain in that mode</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Numeric</td>
<td align="left">7089 characters</td>
</tr>
<tr>
<td align="left">Alphanumeric</td>
<td align="left">4296 characters</td>
</tr>
<tr>
<td align="left">Byte</td>
<td align="left">2953 characters</td>
</tr>
<tr>
<td align="left">Kanji</td>
<td align="left">1817 characters</td>
</tr>
</tbody></table>
<h3 id="添加模式标识"><a href="#添加模式标识" class="headerlink" title="添加模式标识"></a>添加模式标识</h3><p>每一种编码模式机器需要通过在数据前添加标识来确定，<strong>HELLO WORLD</strong>的编码代码为表格第二行，0010</p>
<table>
<thead>
<tr>
<th align="left">Mode Name</th>
<th align="left">Mode Indicator</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Numeric Mode</td>
<td align="left">0001</td>
</tr>
<tr>
<td align="left">Alphanumeric Mode</td>
<td align="left">0010</td>
</tr>
<tr>
<td align="left">Byte Mode</td>
<td align="left">0100</td>
</tr>
<tr>
<td align="left">Kanji Mode</td>
<td align="left">1000</td>
</tr>
<tr>
<td align="left">ECI Mode</td>
<td align="left">0111</td>
</tr>
</tbody></table>
<h3 id="添加个数标识"><a href="#添加个数标识" class="headerlink" title="添加个数标识"></a>添加个数标识</h3><p>个数标识表示字符串长度，<strong>HELLO WORLD</strong>长度为11，二进制1011，版本1的比特位长度为9，在左边补齐0，结果为 00000 1011，添加在模式标识后为 0010，00000 1011</p>
<p>下面是各版本规定的比特位长度</p>
<h4 id="Versions-1-9"><a href="#Versions-1-9" class="headerlink" title="Versions 1 - 9"></a>Versions 1 - 9</h4><table>
<thead>
<tr>
<th>Mode</th>
<th>Bits</th>
</tr>
</thead>
<tbody><tr>
<td>Numeric</td>
<td>10</td>
</tr>
<tr>
<td>Alphanumeric</td>
<td>9</td>
</tr>
<tr>
<td>Byte</td>
<td>8</td>
</tr>
<tr>
<td>Japanese</td>
<td>8</td>
</tr>
</tbody></table>
<h4 id="Versions-10-26"><a href="#Versions-10-26" class="headerlink" title="Versions 10 - 26"></a>Versions 10 - 26</h4><table>
<thead>
<tr>
<th>Mode</th>
<th>Bits</th>
</tr>
</thead>
<tbody><tr>
<td>Numeric</td>
<td>12</td>
</tr>
<tr>
<td>Alphanumeric</td>
<td>11</td>
</tr>
<tr>
<td>Byte</td>
<td>16</td>
</tr>
<tr>
<td>Japanese</td>
<td>10</td>
</tr>
</tbody></table>
<h4 id="Versions-27-40"><a href="#Versions-27-40" class="headerlink" title="Versions 27 - 40"></a>Versions 27 - 40</h4><table>
<thead>
<tr>
<th>Mode</th>
<th>Bits</th>
</tr>
</thead>
<tbody><tr>
<td>Numeric</td>
<td>14</td>
</tr>
<tr>
<td>Alphanumeric</td>
<td>13</td>
</tr>
<tr>
<td>Byte</td>
<td>16</td>
</tr>
<tr>
<td>Japanese</td>
<td>12</td>
</tr>
</tbody></table>
<h3 id="真实数据编码"><a href="#真实数据编码" class="headerlink" title="真实数据编码"></a>真实数据编码</h3><p>以<strong>HELLO WORLD</strong> Alphanumeric模式为例，参考编码表为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">0 0</span><br><span class="line">1 1</span><br><span class="line">2 2</span><br><span class="line">3 3</span><br><span class="line">4 4</span><br><span class="line">5 5</span><br><span class="line">6 6</span><br><span class="line">7 7</span><br><span class="line">8 8</span><br><span class="line">9 9</span><br><span class="line">A 10</span><br><span class="line">B 11</span><br><span class="line">C 12</span><br><span class="line">D 13</span><br><span class="line">E 14</span><br><span class="line">F 15</span><br><span class="line">G 16</span><br><span class="line">H 17</span><br><span class="line">I 18</span><br><span class="line">J 19</span><br><span class="line">K 20</span><br><span class="line">L 21</span><br><span class="line">M 22</span><br><span class="line">N 23</span><br><span class="line">O 24</span><br><span class="line">P 25</span><br><span class="line">Q 26</span><br><span class="line">R 27</span><br><span class="line">S 28</span><br><span class="line">T 29</span><br><span class="line">U 30</span><br><span class="line">V 31</span><br><span class="line">W 32</span><br><span class="line">X 33</span><br><span class="line">Y 34</span><br><span class="line">Z 35</span><br><span class="line">  36 (space)</span><br><span class="line">$ 37</span><br><span class="line">% 38</span><br><span class="line">* 39</span><br><span class="line">+ 40</span><br><span class="line">- 41</span><br><span class="line">. 42</span><br><span class="line">&#x2F; 43</span><br><span class="line">: 44</span><br></pre></td></tr></table></figure>

<p>把字符串拆分为如下形式,O和空格在一起</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HE,LL,O ,WO,RL,D</span><br></pre></td></tr></table></figure>

<p>找到对应的数字</p>
<p>H → 17<br>E → 14</p>
<p>第一个乘以45，加第二个</p>
<p>(45 * 17) + 14 = 779</p>
<p>转换为11bit长的字符串，左边补0</p>
<p>779 → 01100001011</p>
<p>以此类推得到所有的数据，最后一位D -&gt; 13 转换长度为6比特 001101</p>
<table>
<thead>
<tr>
<th align="left">Mode Indicator</th>
<th align="left">Character Count Indicator</th>
<th align="left">Encoded Data</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0010</td>
<td align="left">000001011</td>
<td align="left">01100001011 01111000110 10001011100 10110111000 10011010100 001101</td>
</tr>
</tbody></table>
<h3 id="转换为8-bit-CodeWord"><a href="#转换为8-bit-CodeWord" class="headerlink" title="转换为8-bit CodeWord"></a>转换为8-bit CodeWord</h3><p>二维码要求数据必须填满，参考<a target="_blank" rel="noopener" href="https://www.thonky.com/qr-code-tutorial/error-correction-table">纠错表</a>，此处，我们采用的是版本一，Q级别，可以有13个CW，每个CW为8-bit，总容量为13*8=104bit，到了这一步，我们的数据总长度为74，离满格还差34，需要在尾部添加四个0，最多四个，如果数据长度为102，则补齐两个0，以此类推，到现在我们的数据为</p>
<table>
<thead>
<tr>
<th align="left">Mode Indicator</th>
<th align="left">Character Count Indicator</th>
<th align="left">Encoded Data</th>
<th align="left">Terminator</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0010</td>
<td align="left">000001011</td>
<td align="left">01100001011 01111000110 10001011100 10110111000 10011010100 001101</td>
<td align="left">0000</td>
</tr>
</tbody></table>
<h3 id="拆分补齐数据，使之长度为8的倍数"><a href="#拆分补齐数据，使之长度为8的倍数" class="headerlink" title="拆分补齐数据，使之长度为8的倍数"></a>拆分补齐数据，使之长度为8的倍数</h3><p>74 + 4 = 78bit，在末尾添加00成为80bit</p>
<p>前：</p>
<p>00100000 01011011 00001011 01111000 11010001 01110010 11011100 01001101 01000011 010000</p>
<p>后：</p>
<p>00100000 01011011 00001011 01111000 11010001 01110010 11011100 01001101 01000011 010000<strong>00</strong></p>
<p>距离104还差24bit，使用Pad bytes继续填充</p>
<table>
<thead>
<tr>
<th>236</th>
<th>17</th>
</tr>
</thead>
<tbody><tr>
<td>11101100</td>
<td>00010001</td>
</tr>
</tbody></table>
<p>00100000 01011011 00001011 01111000 11010001 01110010 11011100 01001101 01000011 01000000 <strong>11101100 00010001 11101100</strong></p>
<p>236 - 17 - 236 - 17 如此循环下去，直到填满为止，对应的十进制为</p>
<p>32,91,11,120,209,114,220,77,67,64,236,17,236</p>
<h3 id="数据纠错编码"><a href="#数据纠错编码" class="headerlink" title="数据纠错编码"></a>数据纠错编码</h3><ul>
<li><p>数据分组</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.thonky.com/qr-code-tutorial/error-correction-coding">Reed-Solomon算法</a>，包含多项式、伽罗瓦群论、对数、XOR计算等组合方法生成</p>
<p><img src="https://s3-us-west-2.amazonaws.com/courses-images-archive-read-only/wp-content/uploads/sites/924/2015/11/25201522/CNX_Precalc_revised_eq_12.png" alt="image"></p>
<p><img src="https://slideplayer.com/slide/9698581/31/images/12/Galois+Field+Example+Example%3A+Multiplying+110+and+101.jpg" alt="image"></p>
</li>
</ul>
<p><img src="https://i.pcmag.com/imagery/encyclopedia-terms/xor-xor.fit_lim.size_1050x.gif" alt="image"></p>
<p>根据<a target="_blank" rel="noopener" href="https://www.thonky.com/qr-code-tutorial/show-division-steps?msg_coeff=32,91,11,120,209,114,220,77,67,64,236,17,236&num_ecc_blocks=13">算法</a>产生的纠错码为</p>
<p>168 72 22 82 217 54 156 0 46 15 180 122 16</p>
<p>合起来为</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Col 1</th>
<th align="left">Col 2</th>
<th align="left">Col 3</th>
<th align="left">Col 4</th>
<th align="left">Col 5</th>
<th align="left">Col 6</th>
<th align="left">Col 7</th>
<th align="left">Col 8</th>
<th align="left">Col 9</th>
<th align="left">Col 10</th>
<th align="left">Col 11</th>
<th align="left">Col 12</th>
<th>Col 13</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Block 1</td>
<td align="left">32</td>
<td align="left">91</td>
<td align="left">11</td>
<td align="left">120</td>
<td align="left">209</td>
<td align="left">114</td>
<td align="left">220</td>
<td align="left">77</td>
<td align="left">67</td>
<td align="left">64</td>
<td align="left">236</td>
<td align="left">17</td>
<td>236</td>
</tr>
<tr>
<td align="left">Block 2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td></td>
</tr>
<tr>
<td align="left">ECC1</td>
<td align="left">168</td>
<td align="left">72</td>
<td align="left">22</td>
<td align="left">82</td>
<td align="left">217</td>
<td align="left">54</td>
<td align="left">156</td>
<td align="left">0</td>
<td align="left">46</td>
<td align="left">15</td>
<td align="left">180</td>
<td align="left">122</td>
<td>16</td>
</tr>
<tr>
<td align="left">ECC2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td></td>
</tr>
</tbody></table>
<p>内容连起来，转换为二进制，类似于</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">01000011111101101011011001000110</span><br></pre></td></tr></table></figure>

<h3 id="尾部添加0"><a href="#尾部添加0" class="headerlink" title="尾部添加0"></a>尾部添加0</h3><p>不同的版本在末尾添加0补全</p>
<table>
<thead>
<tr>
<th align="left">QR Version</th>
<th align="left">Required Remainder Bits</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">7</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">7</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">7</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">7</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">7</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">13</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">14</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">15</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">16</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">17</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">18</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">19</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">21</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">22</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">23</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">24</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">25</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">26</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">27</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">28</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">29</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">30</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">31</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">32</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">33</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">34</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">35</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">36</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">37</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">38</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">39</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">40</td>
<td align="left">0</td>
</tr>
</tbody></table>
<p>在这里我们用第一版，不加零</p>
<h3 id="生成矩阵"><a href="#生成矩阵" class="headerlink" title="生成矩阵"></a>生成矩阵</h3><p><img src="https://www.thonky.com/qr-code-tutorial/finder.png" alt="image"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/finder_example_1.png" alt="image"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/finder_example_18.png" alt="image"></p>
<h4 id="添加分隔线"><a href="#添加分隔线" class="headerlink" title="添加分隔线"></a>添加分隔线</h4><p><img src="https://www.thonky.com/qr-code-tutorial/separators.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/separators2.png" alt="img"></p>
<h4 id="添加对齐图案"><a href="#添加对齐图案" class="headerlink" title="添加对齐图案"></a>添加对齐图案</h4><p><img src="https://www.thonky.com/qr-code-tutorial/alignment-pattern.png" alt="img"></p>
<p>version 2及其以上需要这个图案，经过查表可以得知，以左上角为原点，可以摆放四个位置，(6, 6), (6, 18), (18, 6) and (18, 18)，不能遮挡，故右下角合格</p>
<h1 id="INCORRECT"><a href="#INCORRECT" class="headerlink" title="INCORRECT"></a>INCORRECT</h1><p><img src="https://www.thonky.com/qr-code-tutorial/alignment-exclusion.png" alt="img"></p>
<h1 id="CORRECT"><a href="#CORRECT" class="headerlink" title="CORRECT"></a>CORRECT</h1><p><img src="https://www.thonky.com/qr-code-tutorial/alignment-correct.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/alignment-example.png" alt="img"></p>
<h4 id="添加Timing-Patterns"><a href="#添加Timing-Patterns" class="headerlink" title="添加Timing Patterns"></a>添加Timing Patterns</h4><p><img src="https://www.thonky.com/qr-code-tutorial/timing-s.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/timing-m.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/timing-l.png" alt="img"></p>
<p>开始和结束均为黑色</p>
<h4 id="黑色模块和数据保留区"><a href="#黑色模块和数据保留区" class="headerlink" title="黑色模块和数据保留区"></a>黑色模块和数据保留区</h4><p><img src="https://www.thonky.com/qr-code-tutorial/format-reserved1.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/format-reserved2.png" alt="img"></p>
<p>左下角黑点 Dark Module和蓝色区域部分Reserved Areas</p>
<h4 id="版本数据区域"><a href="#版本数据区域" class="headerlink" title="版本数据区域"></a>版本数据区域</h4><p><img src="https://www.thonky.com/qr-code-tutorial/version-area1.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/version-area2.png" alt="img"></p>
<p>version 7及其以上必须包含版本信息，两个蓝色区域</p>
<h4 id="添加文本数据"><a href="#添加文本数据" class="headerlink" title="添加文本数据"></a>添加文本数据</h4><p><img src="https://www.thonky.com/qr-code-tutorial/data-bit-progression.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/upward.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/downward.png" alt="img"></p>
<p>如果遇到了阻挡，绕过去</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/alignment-modules10.png" alt="img"></p>
<p>如果遇到了垂直的Timing Pattern,跳过去到下一列</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/timing-modules4.png" alt="img"></p>
<h3 id="Data-Masking"><a href="#Data-Masking" class="headerlink" title="Data Masking"></a>Data Masking</h3><p>为什么需要masking，因为要减少复杂度，提升机器的识别率</p>
<p>什么是masking</p>
<ul>
<li>黑白切换</li>
</ul>
<p>Mask方法</p>
<ul>
<li>只mask数据区域</li>
</ul>
<p>Mask种类</p>
<table>
<thead>
<tr>
<th align="left">Mask Number</th>
<th align="left">If the formula below is true for a given row/column coordinate, switch the bit at that coordinate</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">(row + column) mod 2 == 0</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">(row) mod 2 == 0</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">(column) mod 3 == 0</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">(row + column) mod 3 == 0</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">( floor(row / 2) + floor(column / 3) ) mod 2 == 0</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">((row * column) mod 2) + ((row * column) mod 3) == 0</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">( ((row * column) mod 2) + ((row * column) mod 3) ) mod 2 == 0</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">( ((row + column) mod 2) + ((row * column) mod 3) ) mod 2 == 0</td>
</tr>
</tbody></table>
<h4 id="寻找最佳Mask"><a href="#寻找最佳Mask" class="headerlink" title="寻找最佳Mask"></a>寻找最佳Mask</h4><p>每一种mask加上去后进行四种惩罚算法验证，得分最低者为最合适的mask</p>
<ul>
<li>The first rule gives the QR code a penalty for each group of five or more same-colored modules in a row (or column).</li>
<li>The second rule gives the QR code a penalty for each 2x2 area of same-colored modules in the matrix.</li>
<li>The third rule gives the QR code a large penalty if there are patterns that look similar to the finder patterns.</li>
<li>The fourth rule gives the QR code a penalty if more than half of the modules are dark or light, with a larger penalty for a larger difference.</li>
</ul>
<p>这里举第一种惩罚算法为例</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/horizontal-total.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/vertical-total.png" alt="img"></p>
<p><img src="https://www.thonky.com/qr-code-tutorial/qr-masks.png" alt="img"></p>
<p>350得分最低，选择第一种mask</p>
<h3 id="添加格式信息"><a href="#添加格式信息" class="headerlink" title="添加格式信息"></a>添加格式信息</h3><p>纠错级别有四个 L M Q H，Maks有八种，一共32种组合</p>
<p>格式信息是一个15-bit长的字符串 </p>
<p>前5个bit包含纠错版本（2-bit）和mask版本（3-bit）</p>
<table>
<thead>
<tr>
<th align="left">Error Correction Level</th>
<th align="left">Bits</th>
<th align="left">Integer Equivalent</th>
</tr>
</thead>
<tbody><tr>
<td align="left">L</td>
<td align="left">01</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">M</td>
<td align="left">00</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left">Q</td>
<td align="left">11</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">H</td>
<td align="left">10</td>
<td align="left">2</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">Mask Number</th>
<th align="left">If the formula below is true for a given row/column coordinate, switch the bit at that coordinate</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">(row + column) mod 2 == 0</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">(row) mod 2 == 0</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">(column) mod 3 == 0</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">(row + column) mod 3 == 0</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">( floor(row / 2) + floor(column / 3) ) mod 2 == 0</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">((row * column) mod 2) + ((row * column) mod 3) == 0</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">( ((row * column) mod 2) + ((row * column) mod 3) ) mod 2 == 0</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">( ((row + column) mod 2) + ((row * column) mod 3) ) mod 2 == 0</td>
</tr>
</tbody></table>
<p>11000,剩下的十位重新使用Reed-Solomon算法生成ECC code，填进去二维码蓝色区域</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/format-layout.png?a=" alt="The layout of format string bits, where 14 is the most significant bit and 0 is the least significant bit"></p>
<p>无论哪个版本，格式信息总是在红色的区域</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/format-position-1.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/format-position-2.png" alt="img"></p>
<h4 id="生成版本信息"><a href="#生成版本信息" class="headerlink" title="生成版本信息"></a>生成版本信息</h4><p>version 7及其以上版本，必须包含18bit长度的版本信息，6-bit表示版本号，12-bit代表纠错码，同样的算法生成</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/version-location-1.png" alt="img"><img src="https://www.thonky.com/qr-code-tutorial/version-location-2.png" alt="img"></p>
<p>蓝色区域，3*6格子，下图是一个version 7示例</p>
<p><img src="https://www.thonky.com/qr-code-tutorial/version-example.png" alt="img"></p>
<p>顺序是从右下到左上填充</p>
<table>
<thead>
<tr>
<th>00</th>
<th>01</th>
<th>02</th>
</tr>
</thead>
<tbody><tr>
<td>03</td>
<td>04</td>
<td>05</td>
</tr>
<tr>
<td>06</td>
<td>07</td>
<td>08</td>
</tr>
<tr>
<td>09</td>
<td>10</td>
<td>11</td>
</tr>
<tr>
<td>12</td>
<td>13</td>
<td>14</td>
</tr>
<tr>
<td>15</td>
<td>16</td>
<td>17</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>17</th>
<th>16</th>
<th>15</th>
<th>14</th>
<th>13</th>
<th>12</th>
<th>11</th>
<th>10</th>
<th>9</th>
<th>8</th>
<th>7</th>
<th>6</th>
<th>5</th>
<th>4</th>
<th>3</th>
<th>2</th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<h3 id="添加合适mask（上面已经叙述过）"><a href="#添加合适mask（上面已经叙述过）" class="headerlink" title="添加合适mask（上面已经叙述过）"></a>添加合适mask（上面已经叙述过）</h3><h3 id="添加quiet-zone"><a href="#添加quiet-zone" class="headerlink" title="添加quiet zone"></a>添加quiet zone</h3><h3 id="最终生成-HELLO-WORLD-二维码，1-Q-Alphanumeric"><a href="#最终生成-HELLO-WORLD-二维码，1-Q-Alphanumeric" class="headerlink" title="最终生成 HELLO WORLD 二维码，1-Q,Alphanumeric"></a>最终生成 HELLO WORLD 二维码，1-Q,Alphanumeric</h3><p><img src="https://www.thonky.com/qr-code-tutorial/hello-world-final.png" alt="img"></p>
<p>完。</p>
<p><img src="https://www.pgyer.com/app/qrcode/lMxO" alt="image"></p>
<p>附录：</p>
<p>条形码：一维码，一种包含物料详情的机读型的光学标签</p>
<p><img src="data:image/png;base64,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" alt="image"></p>
<p>ASCII Table:</p>
<p><img src="http://wiki.robotz.com/images/3/37/Asciifull.gif" alt="image"></p>
<p><img src="https://lessonsforenglish.com/wp-content/uploads/2020/05/Common-Number-Prefixes-Greek-Latin-Meaning-and-Examples.png" alt="image"></p>
<p>在线进制转换网站 <a target="_blank" rel="noopener" href="https://tool.lu/hexconvert/">https://tool.lu/hexconvert/</a></p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.nayuki.io/page/creating-a-qr-code-step-by-step">https://www.nayuki.io/page/creating-a-qr-code-step-by-step</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/QR_code">https://en.wikipedia.org/wiki/QR_code</a></p>
<p><a target="_blank" rel="noopener" href="https://www.explainthatstuff.com/how-data-matrix-codes-work.html">https://www.explainthatstuff.com/how-data-matrix-codes-work.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.thonky.com/qr-code-tutorial/introduction">https://www.thonky.com/qr-code-tutorial/introduction</a></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/08/06/know/fabien-sanglard/" rel="prev" title="一个法国程序员">
      <i class="fa fa-chevron-left"></i> 一个法国程序员
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/11/25/iOS/add-console-in-xcode/" rel="next" title="open terminal in Xcode">
      open terminal in Xcode <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="zhangjk4859/zhangjk4859.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E7%BB%B4%E7%A0%81%E6%8B%86%E5%88%86"><span class="nav-number">1.</span> <span class="nav-text">二维码拆分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%B9%E9%94%99%E7%8E%87"><span class="nav-number">2.</span> <span class="nav-text">容错率</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A1%AE%E5%AE%9A%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E7%9A%84%E6%9C%80%E5%B0%8F%E7%89%88%E6%9C%AC"><span class="nav-number"></span> <span class="nav-text">确定数据使用的最小版本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%A8%A1%E5%BC%8F%E6%A0%87%E8%AF%86"><span class="nav-number">1.</span> <span class="nav-text">添加模式标识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%AA%E6%95%B0%E6%A0%87%E8%AF%86"><span class="nav-number">2.</span> <span class="nav-text">添加个数标识</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Versions-1-9"><span class="nav-number">2.1.</span> <span class="nav-text">Versions 1 - 9</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Versions-10-26"><span class="nav-number">2.2.</span> <span class="nav-text">Versions 10 - 26</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Versions-27-40"><span class="nav-number">2.3.</span> <span class="nav-text">Versions 27 - 40</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9C%9F%E5%AE%9E%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81"><span class="nav-number">3.</span> <span class="nav-text">真实数据编码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2%E4%B8%BA8-bit-CodeWord"><span class="nav-number">4.</span> <span class="nav-text">转换为8-bit CodeWord</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%86%E5%88%86%E8%A1%A5%E9%BD%90%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%BF%E4%B9%8B%E9%95%BF%E5%BA%A6%E4%B8%BA8%E7%9A%84%E5%80%8D%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">拆分补齐数据，使之长度为8的倍数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BA%A0%E9%94%99%E7%BC%96%E7%A0%81"><span class="nav-number">6.</span> <span class="nav-text">数据纠错编码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%BE%E9%83%A8%E6%B7%BB%E5%8A%A00"><span class="nav-number">7.</span> <span class="nav-text">尾部添加0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E7%9F%A9%E9%98%B5"><span class="nav-number">8.</span> <span class="nav-text">生成矩阵</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%88%86%E9%9A%94%E7%BA%BF"><span class="nav-number">8.1.</span> <span class="nav-text">添加分隔线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%AF%B9%E9%BD%90%E5%9B%BE%E6%A1%88"><span class="nav-number">8.2.</span> <span class="nav-text">添加对齐图案</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#INCORRECT"><span class="nav-number"></span> <span class="nav-text">INCORRECT</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CORRECT"><span class="nav-number"></span> <span class="nav-text">CORRECT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0Timing-Patterns"><span class="nav-number">0.1.</span> <span class="nav-text">添加Timing Patterns</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BB%91%E8%89%B2%E6%A8%A1%E5%9D%97%E5%92%8C%E6%95%B0%E6%8D%AE%E4%BF%9D%E7%95%99%E5%8C%BA"><span class="nav-number">0.2.</span> <span class="nav-text">黑色模块和数据保留区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E6%95%B0%E6%8D%AE%E5%8C%BA%E5%9F%9F"><span class="nav-number">0.3.</span> <span class="nav-text">版本数据区域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE"><span class="nav-number">0.4.</span> <span class="nav-text">添加文本数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-Masking"><span class="nav-number">1.</span> <span class="nav-text">Data Masking</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BB%E6%89%BE%E6%9C%80%E4%BD%B3Mask"><span class="nav-number">1.1.</span> <span class="nav-text">寻找最佳Mask</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%A0%BC%E5%BC%8F%E4%BF%A1%E6%81%AF"><span class="nav-number">2.</span> <span class="nav-text">添加格式信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="nav-number">2.1.</span> <span class="nav-text">生成版本信息</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%90%88%E9%80%82mask%EF%BC%88%E4%B8%8A%E9%9D%A2%E5%B7%B2%E7%BB%8F%E5%8F%99%E8%BF%B0%E8%BF%87%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">添加合适mask（上面已经叙述过）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0quiet-zone"><span class="nav-number">4.</span> <span class="nav-text">添加quiet zone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%80%E7%BB%88%E7%94%9F%E6%88%90-HELLO-WORLD-%E4%BA%8C%E7%BB%B4%E7%A0%81%EF%BC%8C1-Q-Alphanumeric"><span class="nav-number">5.</span> <span class="nav-text">最终生成 HELLO WORLD 二维码，1-Q,Alphanumeric</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">张俊凯</p>
  <div class="site-description" itemprop="description">https://github.com/zhangjk4859/</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">78</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张俊凯</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
